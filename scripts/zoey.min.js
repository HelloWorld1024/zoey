(function(){var a=null,b=null,c=[],d={},e=null,f=null,g=0;$.mobile||($.mobile={}),$.mobile.scrollTop=function(a){if(typeof a=="undefined")return document.body.scrollTop||document.documentElement.scrollTop||window.pageYOffset;document.body.scrollTop=document.documentElement.scrollTop=window.pageYOffset=a;return $.mobile},$.mobile.loading=function(a){var b;$("#loading").remove(),a&&(b=$(document.createElement("div")).attr({id:"loading"}).addClass("ui-loading"),b.append($(document.createElement("div")).addClass("ui-spinner")),$(document.body).append(b),$(window).trigger("resize"));return $.mobile},$.mobile.showPage=function(a,d){var f="#"+a.attr("id");d||(d={}),e&&e.attr("id")!==a.attr("id")&&e.trigger("pagebeforehide").trigger("pagehide"),d.type==="dialog"?(e=b,b&&b.data("mobile:scrollTop",$.mobile.scrollTop()).addClass("collapsed")):(e=null,b&&b.data("mobile:scrollTop",$.mobile.scrollTop()).trigger("pagebeforehide").addClass("collapsed").trigger("pagehide")),c.length&&c.removeClass("highlight"),b=a.trigger("pagebeforeshow").removeClass("collapsed").trigger("pageshow"),b.reflow(),c=b.find('[href="'+f+'"]').addClass("highlight"),d.event&&d.event.stopPropagation(),setTimeout(function(){$.mobile.scrollTop(b.data("mobile:scrollTop")||0),$.mobile.updateLayout()},25),a.get(0).focus();return $.mobile},$.mobile.changePage=function(a){var c=null,e=!1;a||(a={});if(typeof a.target=="string"){var h=$('[data-role="page"]');a.target=a.target.replace(/^#/,"");for(var i=0;i<h.length;i++){var j=$(h.get(i));if(j.attr("id")===a.target){e=!0;if(j.hasClass("collapsed")){c=j,f=a.target;break}}}e||(d[a.target]&&a.method!=="POST"?$.mobile.changePage($.extend(a,{target:d[a.target]})):($.mobile.loading(!0),$.ajax({dataType:"html",data:a.data,type:a.method&&a.method.toUpperCase()||"GET",cache:!1,url:a.target,success:function(b,c,e){var h=$(document.createElement("div")).html(b),i=h.find('[data-role="page"]'),j=a.target,k;i.length||(i=$(document.createElement("div"))),d[j]&&(d[j].remove(),delete d[j]),k=i.attr("id"),k&&$("#"+k).length&&i.attr({id:"page-"+ ++g}),i.page(),i.data("cache")==="true"?d[j]=i:i.bind("pagehide",function(){i.remove()}),$.mobile.initialize(i),$(document.body).append(i),$.mobile.loading(!1),$.mobile.changePage($.extend(a,{target:i})),a.type!=="dialog"&&(f=j,location.hash=f)},error:function(a,b,c){$.mobile.loading(!1),alert("Whoops! We failed to load the requested page from the server. Please make sure you are connected to the internet and try again.\n\n["+a.status+"] "+(c||a.statusText))}})))}else b===a.target||(c=a.target);c?$.mobile.showPage(c,a):a.event&&a.event.preventDefault();return $.mobile},$.mobile.closeDialog=function(){$.mobile.changePage({target:e})},$.mobile.serialize=function(a){var b={};for(var c=0;c<a.elements.length;c++){var d=a.elements[c];d.name&&!d.disabled&&(d.tagName==="SELECT"?b[d.name]=d.options[d.selectedIndex].value:d.tagName==="INPUT"?d.type==="checkbox"||d.type==="radio"?d.checked&&(b[d.name]=d.value||"on"):b[d.name]=(d.value||"").replace(/\r\n|\r|\n/g,"\n"):d.tagName==="TEXTAREA"&&(b[d.name]=(d.value||"").replace(/\r\n|\r|\n/g,"\n")))}return b},$.fn.addTheme=function(a,b,c){b&&(b=this.parent("[data-theme]").data("theme")),c&&(c=this.find("[data-role]:not([data-theme])"));for(var d=0;d<this.length;d++){var e=$(this.get(d));if(!(e.attr("class")||"").match(/\btheme-\w/)){var f=e.data("theme")||b||a;e.addClass("theme-"+f),c&&c.each(function(){$(this).addClass("theme-"+f)})}}return this},$.fn.addIcon=function(a){for(var b=0;b<this.length;b++){var c=$(this.get(b));if(!(c.attr("class")||"").match(/\bicon-\w+/)){var d=c.data("icon")||a;d&&c.addClass("ui-icon ui-icon-"+d)}}return this},$.fn.reflow=function(){this.find('[data-role="content"]').content();return this},$.fn.none=function(){},$.fn.page=function(){if(this.hasClass("ui-page"))return this;this.addClass("ui-page"),this.delegate("a","click",function(a){var b=$(this);if(b.data("ajax")==="false"||b.data("role")==="none"||b.attr("rel")==="external")return!1;if(b.hasClass("ui-disabled")){a.preventDefault(),a.stopPropagation();return!1}this.blur();var c=b.data("rel"),d=b.attr("href");if(d.indexOf("mailto:")===0||d.indexOf("sms:")===0)return!1;c==="back"?(e?$.mobile.closeDialog():history.back(),a.preventDefault()):$.mobile.changePage({event:a,target:b.attr("href"),type:c})}),this.delegate("form","submit",function(a){var b=$(this);if(b.data("ajax")==="false"||b.data("role")==="none")return!1;var c=b.data("rel");$.mobile.changePage({event:a,target:b.attr("action"),method:b.attr("method"),data:$.mobile.serialize(this),type:c})}),a||(a=this),this.addClass("collapsed");return this};var s=[];$.fn.header=function(){this.addClass("ui-header").addTheme("a",!1,!0),this.data("position")==="fixed"&&(this.addClass("ui-fixed"),s.push([this,this.parent('[data-role="page"]'),"top"]));return this},$.fn.navbar=function(){this.addClass("ui-navbar").addTheme("a",!0).find("a").addIcon();var a=this.find("li");a.css({width:100/a.length+"%"});return this},$.fn.content=function(){this.addClass("ui-content").addTheme("c");var a=0,b=0;this.prev('[data-role="header"]').each(function(){var b=$(this);b.css("position")==="absolute"&&(a=a+b.height())}),this.next('[data-role="footer"]').each(function(){var a=$(this);a.css("position")==="absolute"&&(b=b+a.height())}),this.css({"padding-top":a+"px","padding-bottom":b+"px"});return this},$.fn.fieldcontain=function(){this.addClass("ui-field-contain");return this},$.fn.listview=function(){var a=this.find('[data-role="button"]'),b=this.data("split-icon"),c=this.data("icon");this.addClass("ui-list-view").addClass("align-"+(this.data("iconpos")||"right")).addTheme("d",!0,!1),this.data("inset")==="true"&&this.addClass("ui-inset"),a.addTheme("d",!1,!1),b&&a.addIcon(b),this.find("li").each(function(){var a=$(this),b=a.children();a.addIcon(c),b.length&&b[0].tagName==="A"&&($(b[0]).addClass("ui-a-block"),a.addClass("ui-li-block"))});return this},$.fn["list-divider"]=function(){this.addClass("ui-list-divider").addTheme("b",!1);return this},$.fn.controlgroup=function(){var a,b=this.data("type");this.addClass("ui-control-group").addClass("orientation-"+(b||"horizontal")).addTheme("d",!0,!0),b!=="vertical"&&(a=this.children(),a.css({width:100/a.length+"%"})),a=this.find("input");if(a.length){var c=this;this.delegate("input","change",function(){a.each(function(){$(this).closest('[data-role="button"]')[this.checked?"addClass":"removeClass"]("highlight")})}),a.first().trigger("change")}return this},$.fn.button=function(){this.addClass("ui-button").addTheme("b",!0,!1).addIcon().addClass("icon-"+(this.data("iconpos")||"left")),this.data("icon-only")==="true"&&this.addClass("ui-icon-only"),this.data("inline")==="true"&&this.addClass("ui-inline");return this},$.fn.collapsible=function(){this.addClass("ui-collapsible"),this.data("collapsed")==="true"&&this.addClass("closed");var a=this;this.children().first().addClass("ui-toggle").bind("click",function(){a.toggleClass("closed")})},$.fn.footer=function(){this.addClass("ui-footer").addTheme("c",!1,!0),this.data("position")==="fixed"?(this.addClass("ui-fixed").css({top:window.innerHeight-this.height()+"px"}),s.push([this,this.parent('[data-role="page"]'),"bottom"])):s.push([this,this.parent('[data-role="page"]'),"bottom-if-needed"]);return this};var D=!1;$(window).bind("touchmove",function(a){if(!D){D=!0;for(var b=0;b<s.length;b++){var c=s[b];if(c[1].hasClass("collapsed"))continue;c[2]==="top"?c[0].css({top:"0px"}):c[2]==="bottom-if-needed"?document.body.scrollHeight>window.innerHeight&&c[0].css({position:"relative",bottom:"auto"}):c[0].css({top:document.body.scrollHeight-c[0].height()+"px"})}}}),$(window).bind("scroll resize orientationchange",$.mobile.updateLayout=function(){var a=$.mobile.scrollTop(),c=!1;for(var d=0;d<s.length;d++){var e=s[d];if(e[1].hasClass("collapsed"))continue;e[2]==="top"?e[0].css({top:a+"px"}):e[2]==="bottom-if-needed"?(document.body.scrollHeight-5<=window.innerHeight?e[0].css({position:"absolute",bottom:"0px"}):e[0].css({position:"relative",bottom:"auto"}),c=!0):e[0].css({top:a+window.innerHeight-e[0].height()+"px"})}D=!1,c&&b.reflow(),$("#loading").css({width:window.innerWidth+"px",height:document.body.scrollHeight+"px"}).children(".ui-spinner").css({top:$.mobile.scrollTop()+Math.round(window.innerHeight/2)+"px",left:Math.round(window.innerWidth/2)+"px"})}),$(window).bind("touchend",function(){D&&$.mobile.updateLayout()});var H=!1;$.mobile.autoInitialize=!0,$.mobile.initialize=function(b){(b&&b.find("[data-role]")||$("[data-role]")).each(function(){var a=$(this);a[a.data("role")]()});var c='input[type="button"], input[type="submit"], button';(b&&b.find(c)||$(c)).each(function(){$(this).button()});if(!H){H=!0,$(window).bind("hashchange",function(b){var c=location.hash.replace(/^#/,"");f!==c&&(f=c,$.mobile.changePage({event:b,target:f||a}))});if(!("onhashchange"in window)){var d=location.hash;setInterval(function(){location.hash!==d&&(d=location.hash,$(window).trigger("hashchange",[null,d]))},50)}$(window).trigger("hashchange",[null,null]),window.scrollTo(0,0)}},$(document).ready(function(){$.mobile.autoInitialize&&$.mobile.initialize()})})()